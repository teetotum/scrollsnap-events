<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>scrollsnap events</title>
    <script type="module" src="polyfill/all.js"></script>
    <script type="module" src="script/example.js"></script>
  </head>
  <body>
    <div class="page" id="page">
      <h1>scrollsnap events</h1>

      <div id="scrollsnap-event-support" class="info support-status">
        <script>
          const status = document.getElementById("scrollsnap-event-support");
          const page = document.getElementById("page");
          const hasNativeSupport = "onscrollsnapchange" in window;
          if (hasNativeSupport) {
            status.textContent =
              "Your browser supports scrollsnapchange event natively. No polyfill is active.";
            page.classList.add("supported");
          } else {
            status.textContent =
              "Your browser does not support scrollsnapchange event natively. A polyfill is active.";
            page.classList.add("not-supported");
          }
        </script>
      </div>
      <style>
        .info {
          background: white;
          padding: 15px;
          margin: 20px 0;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .support-status {
          display: flex;
          align-items: center;
          gap: 20px;
          padding: 10px;
          margin: 10px 0;
          font-weight: bold;
        }
        :root {
          --scroll-snap-align: center;
        }

        body {
          margin: 0;
          font-family: Arial, sans-serif;
          background: #f0f0f0;
        }

        .page {
          max-width: 880px;
          margin: 0 auto;
        }

        .scroller {
          display: flex;
          gap: 20px;
          padding: 100px;
          scroll-snap-type: x mandatory;
          overflow-x: auto;
        }

        .stop {
          scroll-snap-align: var(--scroll-snap-align);
          background-color: #d3a261;
          border-radius: 10px;
          flex: none;
          width: 200px;
          height: 100px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-family: Arial, Helvetica, sans-serif;
          color: white;
          font-size: 1rem;
          font-weight: bold;
          position: relative;
        }

        .stop::before {
          content: "will snap";
          color: white;
          background-color: #6172d3;
          display: block;
          padding: 10px;
          border-radius: 100px;
          position: absolute;
          top: -16px;
          left: 56px;
          visibility: hidden;
        }

        .stop::after {
          content: "snapped";
          color: white;
          background-color: #4d9b72;
          display: block;
          padding: 10px;
          border-radius: 100px;
          position: absolute;
          bottom: -16px;
          left: 56px;
          visibility: hidden;
        }

        .will-snap::before {
          visibility: visible;
        }

        .snapped::after {
          visibility: visible;
        }

        .controls {
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 20px;
        }
      </style>

      <div class="controls">
        <select id="select">
          <option value="none">scroll-snap-align: none</option>
          <option value="center" selected>scroll-snap-align: center</option>
          <option value="start">scroll-snap-align: start</option>
          <option value="end">scroll-snap-align: end</option>
        </select>
      </div>

      <div class="scroller" id="scroller">
        <div class="stop">Item 1</div>
        <div class="stop">Item 2</div>
        <div class="stop">Item 3</div>
        <div class="stop">Item 4</div>
        <div class="stop">Item 5</div>
        <div class="stop">Item 6</div>
        <div class="stop">Item 7</div>
        <div class="stop">Item 8</div>
      </div>
    </div>
  </body>
</html>
